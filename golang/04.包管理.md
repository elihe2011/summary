# 1. `GO111MODULE` 

- `GO111MODULE = auto` 默认模式，此种模式下，Go 会表现

  - 当您在 `GOPATH` 外部时， 设置为 `GO111MODULE = on`
  - 当您在 `GOPATH` 内部时，即使存在 `go.mod`, 设置为 `GO111MODULE = off`
- `GO111MODULE = on`, 即使在`GOPATH`内部，任然强制使用`go.mod`
- `GO111MODULE = off` 强制使用`GOPATH` 方式，即使在 `GOPATH` 之外。



# 2. 包查询

```bash
go list -m all
go list -m -u all    # 可升级的

# 包相关的所有版本
go list -m -versions google.golang.org/grpc

# 某个版本的详情
go list -m -json google.golang.org/grpc@latest
{
        "Path": "google.golang.org/grpc",
        "Version": "v1.36.0",
        "Time": "2021-02-24T22:40:52Z",
        "GoVersion": "1.11"
}

# 可执行程序版本
go version -m ~/go/bin/goimports.exe
```

# 3. `go mod`

```bash
go mod init

# add a replace
go mod edit -replace google.golang.org/grpc@v1.35.0=google.golang.org/grpc@v1.26.0

# remove a replace
go mod edit -dropreplace google.golang.org/grpc@v1.35.0

# set the go version
go mod edit -go=1.14 

# format the go.mod file
go mod edit -fmt

# Print a JSON representation of the go.mod
go mod edit -json

# 包整理，删除或添加
go mod tidy

# 下载指定包到 mod cache
go mod download golang.org/x/mod@v0.2.0

# 依赖图
go mod graph

# 为什么需要这个包
go mod why google.golang.org/grpc

# 创建本地 vendor 目录， -e: 忽略错误
go mod vendor -e -v

# 检查 mod cache 中的依赖包是否被修改
go mod verify

# 清除所有mod缓存
go clean -modcache  
```

# 4. vendor 目录

关于go vendor，下面说法正确的是（ABD）
A. 基本思路是将引用的外部包的源代码放在当前工程的vendor目录下面
B. 编译go代码会优先从vendor目录先寻找依赖包
C. 可以指定引用某个特定版本的外部包  **//无法引入外部包**
D. 有了vendor目录后，打包当前的工程代码到其他机器的$GOPATH/src下都可以通过编译


