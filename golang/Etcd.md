# 1. MVVC

## 1.1 简介

数据库领域，高并发下数据冲突的两种解决方案：

- 想办法避免冲突。使用**悲观锁**来确保同一时刻只有一个人能对数据进行更改，常见的实现：

  - 读写锁 (Read/Write Locks)

  - 两阶段锁 (Two-Phase Locking)

- 允许冲突，但发生冲突时，有能力解决。即**乐观锁**, 乐观的认为冲突不会发生，除非检测到确实产生了冲突，常见的实现：
  - 逻辑时钟 (Logical Clock)
  - MVCC：Multi-version Concurrent Control

MVCC 中的版本一般选择使用时间戳或者事务ID来标识。在处理一个写请求时，MVCC不是简单的有新值覆盖旧值，而是为这一项添加一个新版本数据。在读取一个数据项时，要先确定读取的版本，然后根据版本找到对应的数据。MVCC中的读操作永远不会被阻塞。

