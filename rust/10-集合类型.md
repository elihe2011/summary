# 1. 动态字符串(String)



# 2. 动态数组 (Vector)

动态数组，可以在运行时增长或缩小

```rust
fn main() {
    let mut vec = Vec::new(); // 创建一个空的 vector

    // 向 vector 添加元素
    vec.push(1);
    vec.push(2);
    vec.push(3);

    // 移除并返回最后一个元素
    if let Some(last) = vec.pop() {
        println!("最后一个元素是: {}", last);
    }

    // 遍历 vector
    for i in &vec {
        println!("{}", i);
    }
}
```



# 3. 键值对 (HashMap)

HashMap 存储一组键值对，允许根据键快速检索值。

## 3.1 创建

```rust
use std::collections::HashMap;

fn main() {
    // 创建空HashMap
	let mut scores = HashMap::new();
    
    // 通过collect方法从迭代器创建
    let teams = vec![String::from("blue"), String::from("red")];
    let init_scores = vec![65, 72];
    let scores: HashMap<_, _> = teams.iter().zip(init_scores.iter()).collect();
    
    println!("{:?}", scores);
}
```



## 3.2 插入

```rust
fn main() {
    let mut scores = HashMap::new();
    
    // 插入
    scores.insert(String::from("blue"), 65);
    scores.insert(String::from("red"), 72);
    println!("{:?}", scores);
    
    // 更新
    scores.insert(String::from("blue"), 88);
    println!("{:?}", scores);
}
```



## 3.3 获取

通过 `get` 方法查找一个键的值，该方法返回 `Option`，值存在时 `Some(&V)`，不存在 `None`

```rust
fn main() {
    let mut scores = HashMap::new();
    scores.insert(String::from("blue"), 65);
    scores.insert(String::from("red"), 72);
   
    // 通过key的引用去获取
    let score = scores.get(&String::from("red"));
    
    // match
    match score {
        Some(val) => println!("{}", val),
        None => println!("not found"),
    }
    
    // if let
    if let Some(val) = scores.get(&String::from("blue")) {
        println!("{}", val);
    }
}
```



## 3.4 迭代

```rust
fn main() {
    let mut scores = HashMap::new();
    scores.insert(String::from("blue"), 65);
    scores.insert(String::from("red"), 72);
   
    // 默认调用 iter()
    for (k, v) in &scores {
        println!("{}: {}", k, v);
    }
    
    // keys
    for k in scores.keys() {
        println!("{}", k);
    }
    
    // values
    for v in scores.values() {
        println!("{}", v);
    }
}
```



## 3.5 删除

```rust
fn main() {
    let mut scores = HashMap::new();
    scores.insert(String::from("blue"), 65);
    scores.insert(String::from("red"), 72);
    
    // 删除元素
    scores.remove(&String::from("red"));
    
    println!("{:?}", scores);
}
```



## 3.6 更新策略

`entry` 策略用于键不存在时插入

```rust
fn main() {
    let mut scores = HashMap::new();
    scores.insert(String::from("blue"), 65);
    scores.insert(String::from("red"), 72);
    
    // 已存在，不更新
    scores.entry(String::from("red")).or_insert(88);
    
    // 不存在，则插入
    scores.entry(String::from("yellow")).or_insert(79);
    
    println!("{:?}", scores);
}
```





